/*
 * fonts.h
 *
 * Bevat 2 fonts voor UB_VGA library:
 * 1. Consolas (Monospace 5x7) - Vaste breedte, tech look.
 * 2. Arial    (Proportional)  - Variabele breedte, leesbare tekst.
 */

#ifndef INC_FONTS_H_
#define INC_FONTS_H_

#include <stdint.h>
#include <stddef.h>

// ------------------- Data Structuren -------------------

typedef struct {
    uint8_t width;       // Breedte van het karakter
    const uint8_t* data; // Pointer naar de bytes
} FontChar_t;

typedef struct {
    uint8_t height;
    const FontChar_t* chars; // NULL = Fixed width, Niet-NULL = Proportional
} FontDef_t;


// ============================================================================
//   1. CONSOLAS (Fixed Width 5x7)
// ============================================================================

static const uint8_t font_consolas_data[128][5] = {
    {0x00, 0x00, 0x00, 0x00, 0x00}, // NUL
    // ... Standaard ASCII (verkort weergegeven voor overzicht, de tabel hieronder is compleet) ...
    // Omdat Consolas fixed width is, kunnen we de bytes hier direct in 1 array houden.
    // Ik gebruik hier de standaard 5x7 set die je eerder had.
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00}, {0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00}, // 32 SPACE
    {0x00, 0x00, 0x5f, 0x00, 0x00}, // 33 !
    {0x00, 0x07, 0x00, 0x07, 0x00}, // 34 "
    {0x14, 0x7f, 0x14, 0x7f, 0x14}, // 35 #
    {0x24, 0x2a, 0x7f, 0x2a, 0x12}, // 36 $
    {0x23, 0x13, 0x08, 0x64, 0x62}, // 37 %
    {0x36, 0x49, 0x55, 0x22, 0x50}, // 38 &
    {0x00, 0x05, 0x03, 0x00, 0x00}, // 39 '
    {0x00, 0x1c, 0x22, 0x41, 0x00}, // 40 (
    {0x00, 0x41, 0x22, 0x1c, 0x00}, // 41 )
    {0x14, 0x08, 0x3e, 0x08, 0x14}, // 42 *
    {0x08, 0x08, 0x3e, 0x08, 0x08}, // 43 +
    {0x00, 0x50, 0x30, 0x00, 0x00}, // 44 ,
    {0x08, 0x08, 0x08, 0x08, 0x08}, // 45 -
    {0x00, 0x60, 0x60, 0x00, 0x00}, // 46 .
    {0x20, 0x10, 0x08, 0x04, 0x02}, // 47 /
    {0x3e, 0x51, 0x49, 0x45, 0x3e}, // 48 0
    {0x00, 0x42, 0x7f, 0x40, 0x00}, // 49 1
    {0x42, 0x61, 0x51, 0x49, 0x46}, // 50 2
    {0x21, 0x41, 0x45, 0x4b, 0x31}, // 51 3
    {0x18, 0x14, 0x12, 0x7f, 0x10}, // 52 4
    {0x27, 0x45, 0x45, 0x45, 0x39}, // 53 5
    {0x3c, 0x4a, 0x49, 0x49, 0x30}, // 54 6
    {0x01, 0x71, 0x09, 0x05, 0x03}, // 55 7
    {0x36, 0x49, 0x49, 0x49, 0x36}, // 56 8
    {0x06, 0x49, 0x49, 0x29, 0x1e}, // 57 9
    {0x00, 0x36, 0x36, 0x00, 0x00}, // 58 :
    {0x00, 0x56, 0x36, 0x00, 0x00}, // 59 ;
    {0x08, 0x14, 0x22, 0x41, 0x00}, // 60 <
    {0x14, 0x14, 0x14, 0x14, 0x14}, // 61 =
    {0x00, 0x41, 0x22, 0x14, 0x08}, // 62 >
    {0x02, 0x01, 0x51, 0x09, 0x06}, // 63 ?
    {0x32, 0x49, 0x79, 0x41, 0x3e}, // 64 @
    {0x7e, 0x11, 0x11, 0x11, 0x7e}, // 65 A
    {0x7f, 0x49, 0x49, 0x49, 0x36}, // 66 B
    {0x3e, 0x41, 0x41, 0x41, 0x22}, // 67 C
    {0x7f, 0x41, 0x41, 0x22, 0x1c}, // 68 D
    {0x7f, 0x49, 0x49, 0x49, 0x41}, // 69 E
    {0x7f, 0x09, 0x09, 0x09, 0x01}, // 70 F
    {0x3e, 0x41, 0x49, 0x49, 0x7a}, // 71 G
    {0x7f, 0x08, 0x08, 0x08, 0x7f}, // 72 H
    {0x00, 0x41, 0x7f, 0x41, 0x00}, // 73 I
    {0x20, 0x40, 0x41, 0x3f, 0x01}, // 74 J
    {0x7f, 0x08, 0x14, 0x22, 0x41}, // 75 K
    {0x7f, 0x40, 0x40, 0x40, 0x40}, // 76 L
    {0x7f, 0x02, 0x0c, 0x02, 0x7f}, // 77 M
    {0x7f, 0x04, 0x08, 0x10, 0x7f}, // 78 N
    {0x3e, 0x41, 0x41, 0x41, 0x3e}, // 79 O
    {0x7f, 0x09, 0x09, 0x09, 0x06}, // 80 P
    {0x3e, 0x41, 0x51, 0x21, 0x5e}, // 81 Q
    {0x7f, 0x09, 0x19, 0x29, 0x46}, // 82 R
    {0x46, 0x49, 0x49, 0x49, 0x31}, // 83 S
    {0x01, 0x01, 0x7f, 0x01, 0x01}, // 84 T
    {0x3f, 0x40, 0x40, 0x40, 0x3f}, // 85 U
    {0x1f, 0x20, 0x40, 0x20, 0x1f}, // 86 V
    {0x3f, 0x40, 0x38, 0x40, 0x3f}, // 87 W
    {0x63, 0x14, 0x08, 0x14, 0x63}, // 88 X
    {0x07, 0x08, 0x70, 0x08, 0x07}, // 89 Y
    {0x61, 0x51, 0x49, 0x45, 0x43}, // 90 Z
    {0x00, 0x7f, 0x41, 0x41, 0x00}, // 91 [
    {0x02, 0x04, 0x08, 0x10, 0x20}, // 92 \ //
    {0x00, 0x41, 0x41, 0x7f, 0x00}, // 93 ]
    {0x04, 0x02, 0x01, 0x02, 0x04}, // 94 ^
    {0x40, 0x40, 0x40, 0x40, 0x40}, // 95 _
    {0x00, 0x01, 0x02, 0x04, 0x00}, // 96 `
    {0x20, 0x54, 0x54, 0x54, 0x78}, // 97 a
    {0x7f, 0x48, 0x44, 0x44, 0x38}, // 98 b
    {0x38, 0x44, 0x44, 0x44, 0x20}, // 99 c
    {0x38, 0x44, 0x44, 0x48, 0x7f}, // 100 d
    {0x38, 0x54, 0x54, 0x54, 0x18}, // 101 e
    {0x08, 0x7e, 0x09, 0x01, 0x02}, // 102 f
    {0x0c, 0x52, 0x52, 0x52, 0x3e}, // 103 g
    {0x7f, 0x08, 0x04, 0x04, 0x78}, // 104 h
    {0x00, 0x44, 0x7d, 0x40, 0x00}, // 105 i
    {0x20, 0x40, 0x44, 0x3d, 0x00}, // 106 j
    {0x7f, 0x10, 0x28, 0x44, 0x00}, // 107 k
    {0x00, 0x41, 0x7f, 0x40, 0x00}, // 108 l
    {0x7c, 0x04, 0x18, 0x04, 0x78}, // 109 m
    {0x7c, 0x08, 0x04, 0x04, 0x78}, // 110 n
    {0x38, 0x44, 0x44, 0x44, 0x38}, // 111 o
    {0x7c, 0x14, 0x14, 0x14, 0x08}, // 112 p
    {0x08, 0x14, 0x14, 0x18, 0x7c}, // 113 q
    {0x7c, 0x08, 0x04, 0x04, 0x08}, // 114 r
    {0x48, 0x54, 0x54, 0x54, 0x20}, // 115 s
    {0x04, 0x3f, 0x44, 0x40, 0x20}, // 116 t
    {0x3c, 0x40, 0x40, 0x20, 0x7c}, // 117 u
    {0x1c, 0x20, 0x40, 0x20, 0x1c}, // 118 v
    {0x3c, 0x40, 0x30, 0x40, 0x3c}, // 119 w
    {0x44, 0x28, 0x10, 0x28, 0x44}, // 120 x
    {0x0c, 0x50, 0x50, 0x50, 0x3c}, // 121 y
    {0x44, 0x64, 0x54, 0x4c, 0x44}, // 122 z
    {0x00, 0x08, 0x36, 0x41, 0x00}, // 123 {
    {0x00, 0x00, 0x7f, 0x00, 0x00}, // 124 |
    {0x00, 0x41, 0x36, 0x08, 0x00}, // 125 }
    {0x08, 0x04, 0x08, 0x04, 0x08}, // 126 ~
    {0x00, 0x00, 0x00, 0x00, 0x00}  // 127 DEL
};

static const FontDef_t font_consolas = {
    .height = 7,
    .chars = NULL // Trigger voor DrawText om de fixed array te gebruiken
};


// ============================================================================
//   2. ARIAL (Variable Width / Proportional)
// ============================================================================
// Hier definieren we de data opnieuw, maar nu met de exacte breedte per letter.
// Dit zorgt ervoor dat 'i' smal is en 'W' breed.

// Hulpdefinities voor veelgebruikte tekens om geheugen en typwerk te besparen
// Bitvolgorde: LSB is top, gelijk aan Consolas
static const uint8_t P_SPC[] = {0x00, 0x00}; // Spatie (2px breed)
static const uint8_t P_EXC[] = {0x5F};       // ! (1px breed)
static const uint8_t P_QUO[] = {0x07, 0x00, 0x07}; // "
static const uint8_t P_HSH[] = {0x14, 0x7F, 0x14, 0x7F, 0x14}; // #
static const uint8_t P_DOL[] = {0x24, 0x2A, 0x7F, 0x2A, 0x12}; // $
static const uint8_t P_PCT[] = {0x23, 0x13, 0x08, 0x64, 0x62}; // %
static const uint8_t P_AMP[] = {0x36, 0x49, 0x55, 0x22, 0x50}; // &
static const uint8_t P_APO[] = {0x05, 0x03}; // '
static const uint8_t P_LPA[] = {0x1C, 0x22, 0x41}; // (
static const uint8_t P_RPA[] = {0x41, 0x22, 0x1C}; // )
static const uint8_t P_AST[] = {0x14, 0x08, 0x3E, 0x08, 0x14}; // *
static const uint8_t P_PLS[] = {0x08, 0x08, 0x3E, 0x08, 0x08}; // +
static const uint8_t P_COM[] = {0x50, 0x30}; // ,
static const uint8_t P_MIN[] = {0x08, 0x08, 0x08}; // -
static const uint8_t P_DOT[] = {0x60}; // . (1px breed)
static const uint8_t P_SLA[] = {0x20, 0x10, 0x08, 0x04, 0x02}; // /

// Cijfers (meestal monospaced ook in Arial handig, maar we maken ze 4px breed voor de look)
static const uint8_t P_0[] = {0x3E, 0x51, 0x49, 0x3E};
static const uint8_t P_1[] = {0x42, 0x7F, 0x40};
static const uint8_t P_2[] = {0x42, 0x61, 0x51, 0x46};
static const uint8_t P_3[] = {0x22, 0x41, 0x49, 0x36};
static const uint8_t P_4[] = {0x18, 0x14, 0x12, 0x7F};
static const uint8_t P_5[] = {0x27, 0x45, 0x45, 0x39};
static const uint8_t P_6[] = {0x3C, 0x4A, 0x49, 0x30};
static const uint8_t P_7[] = {0x01, 0x71, 0x09, 0x03};
static const uint8_t P_8[] = {0x36, 0x49, 0x49, 0x36};
static const uint8_t P_9[] = {0x06, 0x49, 0x49, 0x3E};

static const uint8_t P_COL[] = {0x36}; // :
static const uint8_t P_SCL[] = {0x56, 0x36}; // ;
static const uint8_t P_LES[] = {0x08, 0x14, 0x22}; // <
static const uint8_t P_EQU[] = {0x14, 0x14, 0x14}; // =
static const uint8_t P_GRE[] = {0x22, 0x14, 0x08}; // >
static const uint8_t P_QUE[] = {0x02, 0x01, 0x51, 0x09, 0x06}; // ?
static const uint8_t P_ATS[] = {0x32, 0x49, 0x79, 0x41, 0x3E}; // @

// Hoofdletters (Breedtes varieren nu)
static const uint8_t P_A[] = {0x7E, 0x11, 0x11, 0x7E}; // 4px breed
static const uint8_t P_B[] = {0x7F, 0x49, 0x49, 0x36};
static const uint8_t P_C[] = {0x3E, 0x41, 0x41, 0x22};
static const uint8_t P_D[] = {0x7F, 0x41, 0x41, 0x3E};
static const uint8_t P_E[] = {0x7F, 0x49, 0x49, 0x41};
static const uint8_t P_F[] = {0x7F, 0x09, 0x09, 0x01};
static const uint8_t P_G[] = {0x3E, 0x41, 0x49, 0x7A};
static const uint8_t P_H[] = {0x7F, 0x08, 0x08, 0x7F};
static const uint8_t P_I[] = {0x7F}; // Smal!
static const uint8_t P_J[] = {0x20, 0x40, 0x41, 0x3F};
static const uint8_t P_K[] = {0x7F, 0x08, 0x14, 0x41};
static const uint8_t P_L[] = {0x7F, 0x40, 0x40};
static const uint8_t P_M[] = {0x7F, 0x02, 0x0C, 0x02, 0x7F}; // Breed (5px)
static const uint8_t P_N[] = {0x7F, 0x04, 0x08, 0x7F};
static const uint8_t P_O[] = {0x3E, 0x41, 0x41, 0x3E};
static const uint8_t P_P[] = {0x7F, 0x09, 0x09, 0x06};
static const uint8_t P_Q[] = {0x3E, 0x41, 0x51, 0x5E};
static const uint8_t P_R[] = {0x7F, 0x09, 0x19, 0x46};
static const uint8_t P_S[] = {0x46, 0x49, 0x49, 0x31};
static const uint8_t P_T[] = {0x01, 0x7F, 0x01}; // 3px
static const uint8_t P_U[] = {0x3F, 0x40, 0x40, 0x3F};
static const uint8_t P_V[] = {0x1F, 0x20, 0x40, 0x20, 0x1F};
static const uint8_t P_W[] = {0x3F, 0x40, 0x38, 0x40, 0x3F}; // Breed
static const uint8_t P_X[] = {0x63, 0x14, 0x08, 0x14, 0x63};
static const uint8_t P_Y[] = {0x07, 0x08, 0x70, 0x08, 0x07};
static const uint8_t P_Z[] = {0x61, 0x51, 0x49, 0x43};

// Kleine letters
static const uint8_t P_a[] = {0x20, 0x54, 0x54, 0x78};
static const uint8_t P_b[] = {0x7F, 0x48, 0x44, 0x38};
static const uint8_t P_c[] = {0x38, 0x44, 0x44, 0x20};
static const uint8_t P_d[] = {0x38, 0x44, 0x48, 0x7F};
static const uint8_t P_e[] = {0x38, 0x54, 0x54, 0x18};
static const uint8_t P_f[] = {0x08, 0x7E, 0x09}; // Smal
static const uint8_t P_g[] = {0x0C, 0x52, 0x52, 0x3E};
static const uint8_t P_h[] = {0x7F, 0x08, 0x04, 0x78};
static const uint8_t P_i[] = {0x44, 0x7D, 0x40}; // Smal met serif
static const uint8_t P_j[] = {0x20, 0x40, 0x44, 0x3D};
static const uint8_t P_k[] = {0x7F, 0x10, 0x28, 0x44};
static const uint8_t P_l[] = {0x41, 0x7F, 0x40}; // Smal
static const uint8_t P_m[] = {0x7C, 0x04, 0x18, 0x04, 0x78}; // 5px
static const uint8_t P_n[] = {0x7C, 0x08, 0x04, 0x78};
static const uint8_t P_o[] = {0x38, 0x44, 0x44, 0x38};
static const uint8_t P_p[] = {0x7C, 0x14, 0x14, 0x08};
static const uint8_t P_q[] = {0x08, 0x14, 0x14, 0x7C};
static const uint8_t P_r[] = {0x7C, 0x08, 0x04}; // Smal
static const uint8_t P_s[] = {0x48, 0x54, 0x54, 0x20};
static const uint8_t P_t[] = {0x04, 0x3F, 0x44};
static const uint8_t P_u[] = {0x3C, 0x40, 0x20, 0x7C};
static const uint8_t P_v[] = {0x1C, 0x20, 0x40, 0x20, 0x1C};
static const uint8_t P_w[] = {0x3C, 0x40, 0x30, 0x40, 0x3C};
static const uint8_t P_x[] = {0x44, 0x28, 0x10, 0x28, 0x44};
static const uint8_t P_y[] = {0x0C, 0x50, 0x50, 0x3C};
static const uint8_t P_z[] = {0x44, 0x64, 0x54, 0x4C};

// Mapping tabel voor Arial
static const FontChar_t font_arial_chars[128] = {
    [0 ... 31] = {0, NULL},
    [' '] = {2, P_SPC}, ['!'] = {1, P_EXC}, ['"'] = {3, P_QUO}, ['#'] = {5, P_HSH},
    ['$'] = {5, P_DOL}, ['%'] = {5, P_PCT}, ['&'] = {5, P_AMP}, ['\'']={2, P_APO},
    ['('] = {3, P_LPA}, [')'] = {3, P_RPA}, ['*'] = {5, P_AST}, ['+'] = {5, P_PLS},
    [','] = {2, P_COM}, ['-'] = {3, P_MIN}, ['.'] = {1, P_DOT}, ['/'] = {5, P_SLA},

    ['0'] = {4, P_0}, ['1'] = {3, P_1}, ['2'] = {4, P_2}, ['3'] = {4, P_3},
    ['4'] = {4, P_4}, ['5'] = {4, P_5}, ['6'] = {4, P_6}, ['7'] = {4, P_7},
    ['8'] = {4, P_8}, ['9'] = {4, P_9}, [':'] = {1, P_COL}, [';'] = {2, P_SCL},
    ['<'] = {3, P_LES}, ['='] = {3, P_EQU}, ['>'] = {3, P_GRE}, ['?'] = {5, P_QUE},
    ['@'] = {5, P_ATS},

    ['A'] = {4, P_A}, ['B'] = {4, P_B}, ['C'] = {4, P_C}, ['D'] = {4, P_D},
    ['E'] = {4, P_E}, ['F'] = {4, P_F}, ['G'] = {4, P_G}, ['H'] = {4, P_H},
    ['I'] = {1, P_I}, ['J'] = {4, P_J}, ['K'] = {4, P_K}, ['L'] = {3, P_L},
    ['M'] = {5, P_M}, ['N'] = {4, P_N}, ['O'] = {4, P_O}, ['P'] = {4, P_P},
    ['Q'] = {4, P_Q}, ['R'] = {4, P_R}, ['S'] = {4, P_S}, ['T'] = {3, P_T},
    ['U'] = {4, P_U}, ['V'] = {5, P_V}, ['W'] = {5, P_W}, ['X'] = {5, P_X},
    ['Y'] = {5, P_Y}, ['Z'] = {4, P_Z},

    ['['] = {2, P_LPA}, ['\\']={5, P_SLA}, [']'] = {2, P_RPA}, // Simpel mapping voor haken

    ['a'] = {4, P_a}, ['b'] = {4, P_b}, ['c'] = {4, P_c}, ['d'] = {4, P_d},
    ['e'] = {4, P_e}, ['f'] = {3, P_f}, ['g'] = {4, P_g}, ['h'] = {4, P_h},
    ['i'] = {3, P_i}, ['j'] = {4, P_j}, ['k'] = {4, P_k}, ['l'] = {3, P_l},
    ['m'] = {5, P_m}, ['n'] = {4, P_n}, ['o'] = {4, P_o}, ['p'] = {4, P_p},
    ['q'] = {4, P_q}, ['r'] = {3, P_r}, ['s'] = {4, P_s}, ['t'] = {3, P_t},
    ['u'] = {4, P_u}, ['v'] = {5, P_v}, ['w'] = {5, P_w}, ['x'] = {5, P_x},
    ['y'] = {4, P_y}, ['z'] = {4, P_z},

    [123 ... 127] = {0, NULL}
};

static const FontDef_t font_arial = {
    .height = 7,
    .chars = font_arial_chars
};


// ============================================================================
//   FONT KEUZE TABEL
// ============================================================================

typedef struct {
    const char* name;
    const FontDef_t* font_def;
} FontInfo_t;

static const FontInfo_t available_fonts[] = {
    {"monospace", &font_consolas},
    {"consolas",  &font_consolas},
    {"arial",     &font_arial},    // Nu echt anders!
    {"default",   &font_consolas}
};

static const uint8_t NUM_AVAILABLE_FONTS = sizeof(available_fonts) / sizeof(FontInfo_t);

#endif /* INC_FONTS_H_ */
