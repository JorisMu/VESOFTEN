/*
 * fonts.h
 *
 *  Created on: 30-Nov-2025
 *      Author: Gemini
 *
 *  This file contains the data and structures for multiple fonts
 *  to be used with the VGA library.
 */

#ifndef INC_FONTS_H_
#define INC_FONTS_H_

#include <stdint.h>
#include <stddef.h>

// ------------------- Font Data Structures -------------------

// Defines the properties and bitmap data for a single character.
typedef struct {
    uint8_t width;       // Width of the character in pixels.
    const uint8_t* data; // Pointer to the character's bitmap data.
} FontChar_t;

// Defines a complete font, including its dimensions and character set.
typedef struct {
    uint8_t height;          // Height of the font in pixels.
    const FontChar_t* chars; // Pointer to the array of characters.
} FontDef_t;


// ------------------- Monospace 5x7 Font -------------------

// This is a fixed-width font. All characters have a width of 5 pixels.
// The bitmap data is stored column-major (5 bytes per character, each byte is a column).

// Raw bitmap data for the 5x7 monospace font (ASCII 0-127).
const uint8_t font_mono5x7_data[128][5] = {
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // NUL
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // SOH
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // STX
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ETX
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // EOT
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ENQ
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ACK
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // BEL
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // BS
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // HT
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // LF
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // VT
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // FF
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // CR
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // SO
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // SI
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DLE
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DC1
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DC2
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DC3
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DC4
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // NAK
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // SYN
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ETB
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // CAN
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // EM
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // SUB
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ESC
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // FS
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // GS
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // RS
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // US
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // ' '
	{ 0x00, 0x00, 0x5f, 0x00, 0x00 },   // !
	{ 0x00, 0x07, 0x00, 0x07, 0x00 },   // "
	{ 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #
	{ 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $
	{ 0x23, 0x13, 0x08, 0x64, 0x62 },   // %
	{ 0x36, 0x49, 0x55, 0x22, 0x50 },   // &
	{ 0x00, 0x05, 0x03, 0x00, 0x00 },   // '
	{ 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (
	{ 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )
	{ 0x14, 0x08, 0x3e, 0x08, 0x14 },   // *
	{ 0x08, 0x08, 0x3e, 0x08, 0x08 },   // +
	{ 0x00, 0x50, 0x30, 0x00, 0x00 },   // ,
	{ 0x08, 0x08, 0x08, 0x08, 0x08 },   // -
	{ 0x00, 0x60, 0x60, 0x00, 0x00 },   // .
	{ 0x20, 0x10, 0x08, 0x04, 0x02 },   // /
	{ 0x3e, 0x51, 0x49, 0x45, 0x3e },   // 0
	{ 0x00, 0x42, 0x7f, 0x40, 0x00 },   // 1
	{ 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2
	{ 0x21, 0x41, 0x45, 0x4b, 0x31 },   // 3
	{ 0x18, 0x14, 0x12, 0x7f, 0x10 },   // 4
	{ 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5
	{ 0x3c, 0x4a, 0x49, 0x49, 0x30 },   // 6
	{ 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7
	{ 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8
	{ 0x06, 0x49, 0x49, 0x29, 0x1e },   // 9
	{ 0x00, 0x36, 0x36, 0x00, 0x00 },   // :
	{ 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;
	{ 0x08, 0x14, 0x22, 0x41, 0x00 },   // <
	{ 0x14, 0x14, 0x14, 0x14, 0x14 },   // =
	{ 0x00, 0x41, 0x22, 0x14, 0x08 },   // >
	{ 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?
	{ 0x32, 0x49, 0x79, 0x41, 0x3e },   // @
	{ 0x7e, 0x11, 0x11, 0x11, 0x7e },   // A
	{ 0x7f, 0x49, 0x49, 0x49, 0x36 },   // B
	{ 0x3e, 0x41, 0x41, 0x41, 0x22 },   // C
	{ 0x7f, 0x41, 0x41, 0x22, 0x1c },   // D
	{ 0x7f, 0x49, 0x49, 0x49, 0x41 },   // E
	{ 0x7f, 0x09, 0x09, 0x09, 0x01 },   // F
	{ 0x3e, 0x41, 0x49, 0x49, 0x7a },   // G
	{ 0x7f, 0x08, 0x08, 0x08, 0x7f },   // H
	{ 0x00, 0x41, 0x7f, 0x41, 0x00 },   // I
	{ 0x20, 0x40, 0x41, 0x3f, 0x01 },   // J
	{ 0x7f, 0x08, 0x14, 0x22, 0x41 },   // K
	{ 0x7f, 0x40, 0x40, 0x40, 0x40 },   // L
	{ 0x7f, 0x02, 0x0c, 0x02, 0x7f },   // M
	{ 0x7f, 0x04, 0x08, 0x10, 0x7f },   // N
	{ 0x3e, 0x41, 0x41, 0x41, 0x3e },   // O
	{ 0x7f, 0x09, 0x09, 0x09, 0x06 },   // P
	{ 0x3e, 0x41, 0x51, 0x21, 0x5e },   // Q
	{ 0x7f, 0x09, 0x19, 0x29, 0x46 },   // R
	{ 0x46, 0x49, 0x49, 0x49, 0x31 },   // S
	{ 0x01, 0x01, 0x7f, 0x01, 0x01 },   // T
	{ 0x3f, 0x40, 0x40, 0x40, 0x3f },   // U
	{ 0x1f, 0x20, 0x40, 0x20, 0x1f },   // V
	{ 0x3f, 0x40, 0x38, 0x40, 0x3f },   // W
	{ 0x63, 0x14, 0x08, 0x14, 0x63 },   // X
	{ 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y
	{ 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z
	{ 0x00, 0x7f, 0x41, 0x41, 0x00 },   // [
	{ 0x02, 0x04, 0x08, 0x10, 0x20 },   // \ //
	{ 0x00, 0x41, 0x41, 0x7f, 0x00 },   // ]
	{ 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^
	{ 0x40, 0x40, 0x40, 0x40, 0x40 },   // _
	{ 0x00, 0x01, 0x02, 0x04, 0x00 },   // `
	{ 0x20, 0x54, 0x54, 0x54, 0x78 },   // a
	{ 0x7f, 0x48, 0x44, 0x44, 0x38 },   // b
	{ 0x38, 0x44, 0x44, 0x44, 0x20 },   // c
	{ 0x38, 0x44, 0x44, 0x48, 0x7f },   // d
	{ 0x38, 0x54, 0x54, 0x54, 0x18 },   // e
	{ 0x08, 0x7e, 0x09, 0x01, 0x02 },   // f
	{ 0x0c, 0x52, 0x52, 0x52, 0x3e },   // g
	{ 0x7f, 0x08, 0x04, 0x04, 0x78 },   // h
	{ 0x00, 0x44, 0x7d, 0x40, 0x00 },   // i
	{ 0x20, 0x40, 0x44, 0x3d, 0x00 },   // j
	{ 0x7f, 0x10, 0x28, 0x44, 0x00 },   // k
	{ 0x00, 0x41, 0x7f, 0x40, 0x00 },   // l
	{ 0x7c, 0x04, 0x18, 0x04, 0x78 },   // m
	{ 0x7c, 0x08, 0x04, 0x04, 0x78 },   // n
	{ 0x38, 0x44, 0x44, 0x44, 0x38 },   // o
	{ 0x7c, 0x14, 0x14, 0x14, 0x08 },   // p
	{ 0x08, 0x14, 0x14, 0x18, 0x7c },   // q
	{ 0x7c, 0x08, 0x04, 0x04, 0x08 },   // r
	{ 0x48, 0x54, 0x54, 0x54, 0x20 },   // s
	{ 0x04, 0x3f, 0x44, 0x40, 0x20 },   // t
	{ 0x3c, 0x40, 0x40, 0x20, 0x7c },   // u
	{ 0x1c, 0x20, 0x40, 0x20, 0x1c },   // v
	{ 0x3c, 0x40, 0x30, 0x40, 0x3c },   // w
	{ 0x44, 0x28, 0x10, 0x28, 0x44 },   // x
	{ 0x0c, 0x50, 0x50, 0x50, 0x3c },   // y
	{ 0x44, 0x64, 0x54, 0x4c, 0x44 },   // z
	{ 0x00, 0x08, 0x36, 0x41, 0x00 },   // {
	{ 0x00, 0x00, 0x7f, 0x00, 0x00 },   // |
	{ 0x00, 0x41, 0x36, 0x08, 0x00 },   // }
	{ 0x08, 0x04, 0x08, 0x04, 0x08 },   // ~
	{ 0x00, 0x00, 0x00, 0x00, 0x00 },   // DEL
};

// Character descriptor array for the 5x7 monospace font.
// Since it's a fixed-width font, we can generate this programmatically
// or define it, but for this structure, we define it.
// To save space, we can create this on the fly, but for extensibility we define it here.
// Let's create a helper to avoid a giant static array definition.
// The drawing function will handle this instead to save flash space.


// The definition for the 5x7 monospace font.
const FontDef_t font_monospace_5x7 = {
    .height = 7,
    .chars = 0, // In the drawing function, we will calculate the pointer directly.
};


// ------------------- Font Lookup Table -------------------

// Defines a structure to associate a font name with its definition.
typedef struct {
    const char* name;
    const FontDef_t* font_def;
} FontInfo_t;

// An array of available fonts.
const FontInfo_t available_fonts[] = {
    {"monospace", &font_monospace_5x7},
    {"consolas",  &font_monospace_5x7}, // Alias
    {"default",   &font_monospace_5x7}  // Alias
};

const uint8_t NUM_AVAILABLE_FONTS = sizeof(available_fonts) / sizeof(FontInfo_t);


// ------------------- TomThumb 4x6 Proportional Font (Arial-like) -------------------

// This is a variable-width font with a height of 6 pixels.
// Data is stored as byte arrays per character, with each byte representing a column.

// --- Bitmap Data for TomThumb Font ---
const uint8_t TT_SPACE[] = {0x00,0x00,0x00};
const uint8_t TT_EXCLAM[] = {0x2e};
const uint8_t TT_QUOT[] = {0x06,0x00,0x06};
const uint8_t TT_HASH[] = {0x28,0xfe,0x28,0xfe,0x28};
const uint8_t TT_DOLLAR[] = {0x24,0xaa,0x2a};
const uint8_t TT_PERCNT[] = {0x22,0x14,0x08,0x52,0x44};
const uint8_t TT_AMP[] = {0x2a,0x54,0x2a};
const uint8_t TT_APOS[] = {0x06};
const uint8_t TT_LPAREN[] = {0x1c,0x22};
const uint8_t TT_RPAREN[] = {0x22,0x1c};
const uint8_t TT_STAR[] = {0x2a,0x1c,0x2a};
const uint8_t TT_PLUS[] = {0x08,0x3e,0x08};
const uint8_t TT_COMMA[] = {0x20,0x10};
const uint8_t TT_MINUS[] = {0x08,0x08,0x08};
const uint8_t TT_PERIOD[] = {0x20};
const uint8_t TT_SLASH[] = {0x40,0x20,0x10,0x08};
const uint8_t TT_0[] = {0x2a,0x2a,0x2a};
const uint8_t TT_1[] = {0x2a,0x3e};
const uint8_t TT_2[] = {0x22,0x2a,0x26};
const uint8_t TT_3[] = {0x22,0x25,0x2a};
const uint8_t TT_4[] = {0x2e,0x2a,0x3e};
const uint8_t TT_5[] = {0x2a,0x29,0x2b};
const uint8_t TT_6[] = {0x2a,0x2b,0x2a};
const uint8_t TT_7[] = {0x22,0x22,0x3e};
const uint8_t TT_8[] = {0x2a,0x25,0x2a};
const uint8_t TT_9[] = {0x2a,0x29,0x2a};
const uint8_t TT_COLON[] = {0x2a};
const uint8_t TT_SCOLON[] = {0x2a,0x10};
const uint8_t TT_LESS[] = {0x08,0x14,0x22};
const uint8_t TT_EQUAL[] = {0x28,0x28,0x28};
const uint8_t TT_GREATER[] = {0x22,0x14,0x08};
const uint8_t TT_QUEST[] = {0x22,0x25,0x2e};
const uint8_t TT_ATSIGN[] = {0x2a,0x2b,0x28};
const uint8_t TT_A[] = {0x2a,0x2b,0x2a};
const uint8_t TT_B[] = {0x3e,0x29,0x2a};
const uint8_t TT_C[] = {0x2a,0x22,0x22};
const uint8_t TT_D[] = {0x3e,0x22,0x2a};
const uint8_t TT_E[] = {0x3e,0x2b,0x22};
const uint8_t TT_F[] = {0x3e,0x29,0x20};
const uint8_t TT_G[] = {0x2a,0x22,0x2b};
const uint8_t TT_H[] = {0x3e,0x08,0x3e};
const uint8_t TT_I[] = {0x22,0x3e,0x22};
const uint8_t TT_J[] = {0x22,0x22,0x3d};
const uint8_t TT_K[] = {0x3e,0x08,0x2b};
const uint8_t TT_L[] = {0x3e,0x02,0x02};
const uint8_t TT_M[] = {0x3e,0x1c,0x1c,0x0c,0x3e};
const uint8_t TT_N[] = {0x3e,0x0c,0x0c,0x3e};
const uint8_t TT_O[] = {0x2a,0x22,0x2a};
const uint8_t TT_P[] = {0x3e,0x29,0x28};
const uint8_t TT_Q[] = {0x2a,0x22,0x2b};
const uint8_t TT_R[] = {0x3e,0x29,0x2b};
const uint8_t TT_S[] = {0x2a,0x2d,0x2b};
const uint8_t TT_T[] = {0x20,0x3e,0x20};
const uint8_t TT_U[] = {0x3e,0x02,0x3e};
const uint8_t TT_V[] = {0x3c,0x02,0x3c};
const uint8_t TT_W[] = {0x3e,0x0c,0x1c,0x0c,0x3e};
const uint8_t TT_X[] = {0x2b,0x08,0x2b};
const uint8_t TT_Y[] = {0x28,0x1c,0x08,0x1c,0x28};
const uint8_t TT_Z[] = {0x26,0x2a,0x32};
const uint8_t TT_LBRACK[] = {0x3e,0x22};
const uint8_t TT_BSLASH[] = {0x01,0x02,0x04,0x08};
const uint8_t TT_RBRACK[] = {0x22,0x3e};
const uint8_t TT_CARET[] = {0x04,0x02,0x04};
const uint8_t TT_UNDSC[] = {0x01,0x01,0x01,0x01};
const uint8_t TT_BAPOS[] = {0x04,0x02};
const uint8_t TT_a[] = {0x2a,0x2b,0x2a};
const uint8_t TT_b[] = {0x3e,0x29,0x2a};
const uint8_t TT_c[] = {0x2a,0x22,0x22};
const uint8_t TT_d[] = {0x2a,0x22,0x3d};
const uint8_t TT_e[] = {0x2a,0x2b,0x2a};
const uint8_t TT_f[] = {0x3e,0x29,0x20};
const uint8_t TT_g[] = {0x2a,0x22,0x2b};
const uint8_t TT_h[] = {0x3e,0x08,0x3e};
const uint8_t TT_i[] = {0x2e};
const uint8_t TT_j[] = {0x10,0x2e};
const uint8_t TT_k[] = {0x3e,0x08,0x2b};
const uint8_t TT_l[] = {0x3e};
const uint8_t TT_m[] = {0x2a,0x1c,0x1c,0x0c,0x2a};
const uint8_t TT_n[] = {0x2a,0x0c,0x2a};
const uint8_t TT_o[] = {0x2a,0x22,0x2a};
const uint8_t TT_p[] = {0x3e,0x29,0x28};
const uint8_t TT_q[] = {0x28,0x29,0x3e};
const uint8_t TT_r[] = {0x2a,0x0c,0x08};
const uint8_t TT_s[] = {0x2a,0x2d,0x2b};
const uint8_t TT_t[] = {0x08,0x3e,0x08,0x08};
const uint8_t TT_u[] = {0x3a,0x02,0x3d};
const uint8_t TT_v[] = {0x38,0x04,0x38};
const uint8_t TT_w[] = {0x3a,0x0c,0x1c,0x0c,0x3a};
const uint8_t TT_x[] = {0x2b,0x08,0x2b};
const uint8_t TT_y[] = {0x38,0x05,0x38};
const uint8_t TT_z[] = {0x26,0x2a,0x32};
const uint8_t TT_LBRACE[] = {0x08,0x36,0x22};
const uint8_t TT_BAR[] = {0x3e};
const uint8_t TT_RBRACE[] = {0x22,0x36,0x08};
const uint8_t TT_TILDE[] = {0x08,0x1c,0x0a};

const FontChar_t font_tom_thumb_chars[128] = {
    [0 ... 31] = {0, NULL},
    [' '] = {3, TT_SPACE},   ['!'] = {1, TT_EXCLAM},  ['"'] = {3, TT_QUOT},    ['#'] = {5, TT_HASH},
    ['$'] = {3, TT_DOLLAR},  ['%'] = {5, TT_PERCNT},  ['&'] = {3, TT_AMP},     ['\''] = {1, TT_APOS},
    ['('] = {2, TT_LPAREN},  [')'] = {2, TT_RPAREN},  ['*'] = {3, TT_STAR},    ['+'] = {3, TT_PLUS},
    [','] = {2, TT_COMMA},   ['-'] = {3, TT_MINUS},   ['.'] = {1, TT_PERIOD},  ['/'] = {4, TT_SLASH},
    ['0'] = {3, TT_0},       ['1'] = {2, TT_1},       ['2'] = {3, TT_2},       ['3'] = {3, TT_3},
    ['4'] = {3, TT_4},       ['5'] = {3, TT_5},       ['6'] = {3, TT_6},       ['7'] = {3, TT_7},
    ['8'] = {3, TT_8},       ['9'] = {3, TT_9},       [':'] = {1, TT_COLON},   [';'] = {2, TT_SCOLON},
    ['<'] = {3, TT_LESS},    ['='] = {3, TT_EQUAL},   ['>'] = {3, TT_GREATER}, ['?'] = {3, TT_QUEST},
    ['@'] = {3, TT_ATSIGN},  ['A'] = {3, TT_A},       ['B'] = {3, TT_B},       ['C'] = {3, TT_C},
    ['D'] = {3, TT_D},       ['E'] = {3, TT_E},       ['F'] = {3, TT_F},       ['G'] = {3, TT_G},
    ['H'] = {3, TT_H},       ['I'] = {3, TT_I},       ['J'] = {3, TT_J},       ['K'] = {3, TT_K},
    ['L'] = {3, TT_L},       ['M'] = {5, TT_M},       ['N'] = {4, TT_N},       ['O'] = {3, TT_O},
    ['P'] = {3, TT_P},       ['Q'] = {3, TT_Q},       ['R'] = {3, TT_R},       ['S'] = {3, TT_S},
    ['T'] = {3, TT_T},       ['U'] = {3, TT_U},       ['V'] = {3, TT_V},       ['W'] = {5, TT_W},
    ['X'] = {3, TT_X},       ['Y'] = {5, TT_Y},       ['Z'] = {3, TT_Z},       ['['] = {2, TT_LBRACK},
    ['\\'] = {4, TT_BSLASH}, [']'] = {2, TT_RBRACK},  ['^'] = {3, TT_CARET},   ['_'] = {4, TT_UNDSC},
    ['`'] = {2, TT_BAPOS},   ['a'] = {3, TT_a},       ['b'] = {3, TT_b},       ['c'] = {3, TT_c},
    ['d'] = {3, TT_d},       ['e'] = {3, TT_e},       ['f'] = {3, TT_f},       ['g'] = {3, TT_g},
    ['h'] = {3, TT_h},       ['i'] = {1, TT_i},       ['j'] = {2, TT_j},       ['k'] = {3, TT_k},
    ['l'] = {1, TT_l},       ['m'] = {5, TT_m},       ['n'] = {3, TT_n},       ['o'] = {3, TT_o},
    ['p'] = {3, TT_p},       ['q'] = {3, TT_q},       ['r'] = {3, TT_r},       ['s'] = {3, TT_s},
    ['t'] = {4, TT_t},       ['u'] = {3, TT_u},       ['v'] = {3, TT_v},       ['w'] = {5, TT_w},
    ['x'] = {3, TT_x},       ['y'] = {3, TT_y},       ['z'] = {3, TT_z},       ['{'] = {3, TT_LBRACE},
    ['|'] = {1, TT_BAR},     ['}'] = {3, TT_RBRACE},  ['~'] = {3, TT_TILDE},
    [127] = {0, NULL}
};

const FontDef_t font_tom_thumb = {
    .height = 6,
    .chars = font_tom_thumb_chars,
};

// ------------------- Updated Font Lookup Table -------------------
const FontInfo_t updated_available_fonts[] = {
    {"monospace", &font_monospace_5x7},
    {"consolas",  &font_monospace_5x7},
    {"default",   &font_monospace_5x7},
    {"arial",     &font_tom_thumb},
    {"sans-serif",&font_tom_thumb}
};

#undef available_fonts
#undef NUM_AVAILABLE_FONTS
#define available_fonts updated_available_fonts
#define NUM_AVAILABLE_FONTS (sizeof(updated_available_fonts) / sizeof(FontInfo_t))


#endif /* INC_FONTS_H_ */
